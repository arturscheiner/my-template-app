<?xml version="1.0" encoding="UTF-8"?><record_update table="sys_ux_data_broker_transform">
    <sys_ux_data_broker_transform action="DELETE">
        <acl_failure_result/>
        <api_name>x_1434439_my_tem_0.Get Kb Article Title Details</api_name>
        <description/>
        <mutates_server_data>false</mutates_server_data>
        <name>Get Kb Article Title Details</name>
        <output_schema/>
        <private>false</private>
        <props>[
  {
  "name": "table",
  "label": "Table",
  "description": "Table to look up",
  "readOnly": false,
  "fieldType": "table_name",
  "mandatory": true
},
{
  "name": "recordId",
  "label": "Record",
  "description": "Record to look up (sys_id or display value)",
  "readOnly": false,
  "fieldType": "string",
  "mandatory": true,
  "defaultValue": ""
}
]</props>
        <required_translations>[ {
  "message" : "Record",
  "comment" : ""
}, {
  "message" : "Record to look up (sys_id or display value)",
  "comment" : ""
}, {
  "message" : "Table",
  "comment" : ""
}, {
  "message" : "Table to look up",
  "comment" : ""
} ]</required_translations>
        <schema_version>1.0.0</schema_version>
        <script><![CDATA[function transform(input) {
    var tableName = input['table'],
        alertID = input['recordId'];
    var output = {};
    var month = {
        "1": "January",
        "2": "February",
        "3": "March",
        "4": "April",
        "5": "May",
        "6": "June",
        "7": "July",
        "8": "August",
        "9": "September",
        "10": "October",
        "11": "November",
        "12": "December"
    };
    var communityAlert = new GlideRecord(tableName);
    if (communityAlert.get(alertID)) {
        var kb = new GlideRecord('kb_knowledge');
        if (kb.get(communityAlert.kb_article)) {
            var type = ((communityAlert.type).getDisplayValue()).toString();
            var title = (kb.short_description).toString();
            var date = new GlideDateTime(kb.sys_created_on).getDisplayValue();
			//var internalDate = date.getDisplayValueInternal();
            //var gDate = date.getDate();
            //var getOnlyDate = gDate.getByFormat("MM/dd/yyyy");
            //var result = ["Created on " + month[date.getMonthLocalTime()], date.getDayOfMonthLocalTime(), date.getYearLocalTime()].join(' ');
            /*var nowDate = new GlideDateTime();
            var duration = GlideDateTime.subtract(date, nowDate);
            var days = (duration.getDisplayValue()).split(' ');
            var rem = "";
            if (days[0] > 365) {
                rem = days[0] / 365;
                result = ["Created", Math.round(rem), "years ago"].join(' ');
            } else if (days[0] > 30) {
                rem = days[0] / 30;
                result = ["Created", Math.round(rem), "months ago"].join(' ');
            } else {
                result = ["Created", Math.round(days[0]), "days ago"].join(' ');
            }*/
            var fDate = date.split(' ')[0].toString();
            var created = gs.getMessage("Created on {0}", fDate);
            var breadcrumb = [{
                "label": gs.getMessage("Home"),
                "href": "x/1434439/x_1434439_my_tem_0/portal/home"
            }, {
                "label": type
            }];
        }
        var articleID = (communityAlert.kb_article).toString();
        output = {
            "type": type,
            "title": title,
            "created": created,
            "path": breadcrumb
        };
    }
    return output;
}]]></script>
        <sys_class_name>sys_ux_data_broker_transform</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2024-05-29 17:32:32</sys_created_on>
        <sys_id>1332a25c2622021047f7fb1e0968bfbc</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_name>Get Kb Article Title Details</sys_name>
        <sys_package display_value="My Template App" source="x_1434439_my_tem_0">7232625c53220210d9568cfbe92e8074</sys_package>
        <sys_policy/>
        <sys_scope display_value="My Template App">7232625c53220210d9568cfbe92e8074</sys_scope>
        <sys_update_name>sys_ux_data_broker_transform_1332a25c2622021047f7fb1e0968bfbc</sys_update_name>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2024-05-29 17:32:32</sys_updated_on>
    </sys_ux_data_broker_transform>
    <sys_update_version action="INSERT_OR_UPDATE">
        <action>DELETE</action>
        <application display_value="My Template App">7232625c53220210d9568cfbe92e8074</application>
        <file_path/>
        <instance_id>7d047f93db61869837d72a59139619a9</instance_id>
        <instance_name>dev260498</instance_name>
        <name>sys_ux_data_broker_transform_1332a25c2622021047f7fb1e0968bfbc</name>
        <payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update table="sys_ux_data_broker_transform"&gt;&lt;sys_ux_data_broker_transform action="INSERT_OR_UPDATE"&gt;&lt;acl_failure_result/&gt;&lt;api_name&gt;x_1434439_my_tem_0.Get Kb Article Title Details&lt;/api_name&gt;&lt;description/&gt;&lt;mutates_server_data&gt;false&lt;/mutates_server_data&gt;&lt;name&gt;Get Kb Article Title Details&lt;/name&gt;&lt;output_schema/&gt;&lt;private&gt;false&lt;/private&gt;&lt;props&gt;[
  {
  "name": "table",
  "label": "Table",
  "description": "Table to look up",
  "readOnly": false,
  "fieldType": "table_name",
  "mandatory": true
},
{
  "name": "recordId",
  "label": "Record",
  "description": "Record to look up (sys_id or display value)",
  "readOnly": false,
  "fieldType": "string",
  "mandatory": true,
  "defaultValue": ""
}
]&lt;/props&gt;&lt;required_translations&gt;[ {
  "message" : "Record",
  "comment" : ""
}, {
  "message" : "Record to look up (sys_id or display value)",
  "comment" : ""
}, {
  "message" : "Table",
  "comment" : ""
}, {
  "message" : "Table to look up",
  "comment" : ""
} ]&lt;/required_translations&gt;&lt;schema_version&gt;1.0.0&lt;/schema_version&gt;&lt;script&gt;&lt;![CDATA[function transform(input) {
    var tableName = input['table'],
        alertID = input['recordId'];
    var output = {};
    var month = {
        "1": "January",
        "2": "February",
        "3": "March",
        "4": "April",
        "5": "May",
        "6": "June",
        "7": "July",
        "8": "August",
        "9": "September",
        "10": "October",
        "11": "November",
        "12": "December"
    };
    var communityAlert = new GlideRecord(tableName);
    if (communityAlert.get(alertID)) {
        var kb = new GlideRecord('kb_knowledge');
        if (kb.get(communityAlert.kb_article)) {
            var type = ((communityAlert.type).getDisplayValue()).toString();
            var title = (kb.short_description).toString();
            var date = new GlideDateTime(kb.sys_created_on).getDisplayValue();
			//var internalDate = date.getDisplayValueInternal();
            //var gDate = date.getDate();
            //var getOnlyDate = gDate.getByFormat("MM/dd/yyyy");
            //var result = ["Created on " + month[date.getMonthLocalTime()], date.getDayOfMonthLocalTime(), date.getYearLocalTime()].join(' ');
            /*var nowDate = new GlideDateTime();
            var duration = GlideDateTime.subtract(date, nowDate);
            var days = (duration.getDisplayValue()).split(' ');
            var rem = "";
            if (days[0] &gt; 365) {
                rem = days[0] / 365;
                result = ["Created", Math.round(rem), "years ago"].join(' ');
            } else if (days[0] &gt; 30) {
                rem = days[0] / 30;
                result = ["Created", Math.round(rem), "months ago"].join(' ');
            } else {
                result = ["Created", Math.round(days[0]), "days ago"].join(' ');
            }*/
            var fDate = date.split(' ')[0].toString();
            var created = gs.getMessage("Created on {0}", fDate);
            var breadcrumb = [{
                "label": gs.getMessage("Home"),
                "href": "x/1434439/x_1434439_my_tem_0/portal/home"
            }, {
                "label": type
            }];
        }
        var articleID = (communityAlert.kb_article).toString();
        output = {
            "type": type,
            "title": title,
            "created": created,
            "path": breadcrumb
        };
    }
    return output;
}]]&gt;&lt;/script&gt;&lt;sys_class_name&gt;sys_ux_data_broker_transform&lt;/sys_class_name&gt;&lt;sys_created_by&gt;admin&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2024-05-29 17:32:32&lt;/sys_created_on&gt;&lt;sys_id&gt;1332a25c2622021047f7fb1e0968bfbc&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_name&gt;Get Kb Article Title Details&lt;/sys_name&gt;&lt;sys_package display_value="My Template App" source="x_1434439_my_tem_0"&gt;7232625c53220210d9568cfbe92e8074&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="My Template App"&gt;7232625c53220210d9568cfbe92e8074&lt;/sys_scope&gt;&lt;sys_update_name&gt;sys_ux_data_broker_transform_1332a25c2622021047f7fb1e0968bfbc&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;admin&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2024-05-29 17:32:32&lt;/sys_updated_on&gt;&lt;/sys_ux_data_broker_transform&gt;&lt;/record_update&gt;</payload>
        <payload_hash>-655601668</payload_hash>
        <record_name>Get Kb Article Title Details</record_name>
        <reverted_from/>
        <source>063bd400c3320210b6e3d8ec050131bb</source>
        <source_table>sys_upgrade_history</source_table>
        <state>previous</state>
        <sys_created_by/>
        <sys_created_on>2024-06-09 23:19:16</sys_created_on>
        <sys_id>e202120ec3324210b6e3d8ec0501311a</sys_id>
        <sys_mod_count/>
        <sys_recorded_at>18fff4c85200000000</sys_recorded_at>
        <sys_updated_by/>
        <sys_updated_on/>
        <type>Data Broker Server Script</type>
        <update_guid>a202120ef232421017a6f901bd73cc1a</update_guid>
        <update_guid_history>a202120ef232421017a6f901bd73cc1a:-655601668</update_guid_history>
    </sys_update_version>
    <sys_metadata_delete action="INSERT_OR_UPDATE">
        <sys_audit_delete/>
        <sys_class_name>sys_metadata_delete</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2024-06-16 13:06:16</sys_created_on>
        <sys_db_object display_value="" name="sys_ux_data_broker_transform">sys_ux_data_broker_transform</sys_db_object>
        <sys_id>3f615fdd54c84f8994f3724ff6257391</sys_id>
        <sys_metadata>1332a25c2622021047f7fb1e0968bfbc</sys_metadata>
        <sys_mod_count>0</sys_mod_count>
        <sys_name>Get Kb Article Title Details</sys_name>
        <sys_package display_value="My Template App" source="x_1434439_my_tem_0">7232625c53220210d9568cfbe92e8074</sys_package>
        <sys_parent/>
        <sys_policy/>
        <sys_scope display_value="My Template App">7232625c53220210d9568cfbe92e8074</sys_scope>
        <sys_scope_delete display_value="My Template App">5e0e65b46569442e9dfc948decdaf579</sys_scope_delete>
        <sys_update_name>sys_ux_data_broker_transform_1332a25c2622021047f7fb1e0968bfbc</sys_update_name>
        <sys_update_version display_value="sys_ux_data_broker_transform_1332a25c2622021047f7fb1e0968bfbc">e202120ec3324210b6e3d8ec0501311a</sys_update_version>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2024-06-16 13:06:16</sys_updated_on>
    </sys_metadata_delete>
</record_update>
